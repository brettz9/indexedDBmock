/*! indexedDBmock 10-11-2015 */
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.mock=b():a.mock=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="dist/",b(0)}([function(a,b,c){var d,e;d=[c(3),c(22),c(9),c(17),c(18),c(15),c(1),c(14),c(19),c(4),c(10),c(16)],e=function(a,b,c,d,e,f,g,h,i,j,k,l){var m=new d;return{IDBCursor:a,IDBCursorWithValue:b,IDBDatabase:c,IDBFactory:e,IDBIndex:f,IDBKeyRange:g,IDBObjectStore:h,IDBOpenDBRequest:i,IDBRequest:j,IDBTransaction:k,IDBVersionChangeEvent:l,indexedDB:m.indexedDB}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(2)],e=function(a){var b=function(b,c,d,e){0!==arguments.length&&(this.lower=b,this.upper=c,this.lowerOpen=d?d:!1,this.upperOpen=e?e:!1,this.__id=a.guid())};return b.only=function(b){if(!a.isValidKey(b))throw{name:"DataError"};return new KeyRange(b,b,!1,!1)},b.lowerBound=function(b,c){if(!a.isValidKey(b))throw{name:"DataError"};return new KeyRange(b,void 0,c?c:!1,!0)},b.upperBound=function(b,c){if(!a.isValidKey(b))throw{name:"DataError"};return new KeyRange(void 0,b,!0,c?c:!1)},b.bound=function(b,c,d,e){if(!a.isValidKey(b)||!a.isValidKey(c)||b>c||c===b&&e&&d)throw{name:"DataError"};return new KeyRange(b,c,d?d:!1,e?e:!1)},b.prototype=function(){function c(a){return(!this.lower||a>this.lower||a===this.lower&&!this.lowerOpen)&&(!this.upper||a<this.upper||a===this.upper&&!this.upperOpen)?!0:!1}function d(c){var d=new b;return d.lower=a.clone(this.lower,c),d.upper=a.clone(this.upper,c),d.lowerOpen=a.clone(this.lowerOpen,c),d.upperOpen=a.clone(this.upperOpen,c),d.__id=a.clone(this.__id,c),d}return{__clone:d,__inRange:c}}(),b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b){var c,d;c=[],d=function(){function a(b){if("number"==typeof b&&!isNaN(b)||"string"==typeof b||b instanceof Date&&!isNaN(b))return!0;if(b instanceof Array){for(var c=b.length-1;c>=0;c--)if(!a(b[c]))return!1;return!0}return!1}function b(a,g){if(c(a)&&c(g)||d(a)&&d(g)||f(a)&&f(g)||e(a)&&e(g)){if(e(a)&&e(g)){a=a.sort(b),g=g.sort(b);for(var h=a.length<g.length?a.length:g.length,i=0;h>i;i++){if(a[i]<g[i])return-1;if(a[i]>g[i])return 1}return a.length<g.length?-1:a.length>g.length?1:0}return g>a?-1:a>g?1:0}return e(a)?1:e(g)?-1:d(a)?1:d(g)?-1:f(a)?1:-1}function c(a){return a&&"number"==typeof a}function d(a){return a&&"string"==typeof a}function e(a){return a&&a instanceof Array}function f(a){return a&&a instanceof Date}function g(a){return a&&"Object"===a.constructor.name}function h(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function i(a,b){for(var c=b.split("."),d=a,e=0;e<c.length;e++)d&&(d=d[c[e]]);return d}function j(a,b,c){for(var d=b.split("."),e=a,f=0;f<d.length;f++)f!=d.length-1?(e[d[f]]={},e=e[d[f]]):e[d[f]]=c;return e}function k(a){for(var b in a){if(h(a[b]))return!0;if(g(b)&&k(a[b]))return!0}return!1}function l(){return(new Date).getTime()}function m(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function n(a,b){var c;if(null===a||"object"!=typeof a)return a;if(b=b||{},a instanceof Date)return c=new Date,c.setTime(a.getTime()),c;if(a instanceof Array){c=[];for(var d=0,e=a.length;e>d;d++)c[d]=n(a[d],b);return c}if(a instanceof Object){if(c={},a.__clone){if(a.__id){if(b[a.__id])return b[a.__id];b[a.__id]=c}c=a.__clone(b),a.__id&&(b[a.__id]=c)}else for(var f in a)a.hasOwnProperty(f)&&(c[f]=n(a[f],b));return c}throw new Error("Unable to copy obj! Its type isn't supported.")}return{clone:n,containsFunction:k,cmp:b,isArray:e,isDate:f,isFunction:h,isNumber:c,isObject:g,isString:d,isValidKey:a,getPropertyValue:i,getTimestamp:l,guid:m,setPropertyValue:j,timeout:1}}.apply(b,c),!(void 0!==d&&(a.exports=d))},function(a,b,c){var d,e;d=[c(4)],e=function(){var a=function(a,b,c,d){this.source=a,this.direction=c,this.key=b,this.primaryKey=d};return a.prototype=function(){function a(){}function b(){}function c(){}function d(){}return{update:a,advance:b,"continue":c,"delete":d}}(),a}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(5),c(6),c(8),c(2)],e=function(a,b,c,d){var e=function(b,c){0!==arguments.length&&(this.error=void 0,this.result=void 0,this.source=b,this.transaction=c,this.readyState=a.pending,this.onsuccess=null,this.onerror=null,this.__id=d.guid())};return e.prototype=function(){function f(b,e){this.error=b,this.errorCode=e,this.readyState=a.done,d.isFunction(this.onerror)&&this.onerror(new c(this))}function g(c){this.result=c,this.readyState=a.done,d.isFunction(this.onsuccess)&&this.onsuccess(new b(this))}function h(a){var b=new e;return b.error=d.clone(this.error,a),b.result=d.clone(this.result,a),b.source=d.clone(this.source,a),b.transaction=d.clone(this.transaction,a),b.readyState=d.clone(this.readyState,a),b.__id=d.clone(this.__id,a),b}return{__clone:h,__error:f,__success:g}}(),e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b){var c,d;c=[],d=function(){var a={done:"done",pending:"pending"};return a}.apply(b,c),!(void 0!==d&&(a.exports=d))},function(a,b,c){var d,e;d=[c(7)],e=function(a){var b=function(b){a.call(this,"success",{target:b,returnValue:!0})};return b.prototype=a.prototype,b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b){var c,d;c=[],d=function(){var a=function(a,b){this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.bubbles=b.bubbles||!1,this.cancelBubble=b.bubbles&&b.cancelable||!1,this.cancelable=b.cancelable||!1,this.currentTarget=b.target,this.defaultPrevented=!1,this.detail=void 0,this.eventPhase=this.AT_TARGET,this.path=void 0,this.returnValue=b.returnValue,this.srcElement=b.target,this.target=b.target,this.timestamp=Date.now(),this.type=a};return a.prototype=function(){function a(){this.defaultPrevented=!0}function b(){this.cancelBubble=!0}return{preventDefault:a,stopImmediatePropagation:b}}(),a}.apply(b,c),!(void 0!==d&&(a.exports=d))},function(a,b,c){var d,e;d=[c(7)],e=function(a){var b=function(b){a.call(this,"error",{target:b,returnValue:!0})};return b.prototype=a.prototype,b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(5),c(10),c(13),c(14),c(16),c(8),c(11),c(2)],e=function(a,b,c,d,e,f,g,h){var i=function(a){this.name=a.name,this.version=a.version,this.objectStoreNames=a.objectStoreNames,this.onabort=null,this.onerror=null,this.onversionchange=null,this.__db=a,this.__snapshot=a.snapshot(),this.__connectionId=h.guid()};return i.prototype=function(){function i(){this.__db.removeConnection(this)}function j(){this.__db.commitSnapshot(this.__snapshot)}function k(a,d){var e=new b(a,d,this);return d===c.versionchange&&(this.transaction=e),e}function l(a,b){if(this.transaction.mode!==c.versionchange)throw{name:"InvalidStateError"};if(b&&h.isArray(b.keyPath))for(var e=0;e<b.keyPath.length;e++)if(""===b.keyPath[e])throw this.transaction.abort(),{name:"InvalidAccessError"};var f=new d(a,b,this.transaction);return this.__snapshot.addObjectStore(f),this.objectStoreNames.push(a),f}function m(a){if(this.transaction.mode!==c.versionchange)throw{name:"InvalidStateError"};if(-1===this.objectStoreNames.indexOf(a))throw{name:"NotFoundError"};this.__snapshot.removeObjectStore(a)}function n(b){this.readyState=a.done,h.isFunction(this.onversionchange)&&this.onversionchange(new e("versionchange",{target:this,newVersion:b,oldVersion:this.version}))}function o(b,c){this.error=b,this.errorCode=c,this.readyState=a.done,h.isFunction(this.onerror)&&this.onerror(new f(this))}function p(a){this.error=a,h.isFunction(this.onabort)&&this.onabort(new g(this))}function q(){return this.__snapshot.objectStores}function r(){return this.__snapshot.objectStoreNames}return{close:i,transaction:k,createObjectStore:l,deleteObjectStore:m,__abort:p,__commit:j,__error:o,__getObjectStores:q,__getObjectStoreNames:r,__versionchange:n}}(),i}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(11),c(12),c(8),c(13),c(2)],e=function(a,b,c,d,e){var f=function(a,b,c){if(0!==arguments.length){if(this.__active=!0,this.__aborted=!1,this.__actions=[],b||(b=d.readonly),b!==d.versionchange&&(!a||0===a.length))throw this.aborted=!0,this.__checkFinished(this),{name:"InvalidAccessError"};if(b!==d.readonly&&b!==d.readwrite&&b!==d.versionchange&&(b=d.readonly),this.oncomplete=void 0,this.onerror=void 0,this.onabort=void 0,this.error=null,this.mode=b,this.db=c,this.__objectStoreNames=a,this.__id=e.guid(),a)for(var f=0;f<a.length;f++)if(-1===c.objectStoreNames.indexOf(a[f]))throw this.__aborted=!0,this.__checkFinished(this),{name:"NotFoundError"};this.__checkFinished(this)}};return f.prototype=function(){function g(b){this.__aborted=!0,setTimeout(function(b,c){b.error=c,e.isFunction(b.onabort)&&b.onabort(new a(b))},e.timeout,this,b)}function h(a){var b=e.getTimestamp();if(this.__actions.push(b),this.mode!==d.versionchange&&-1===this.__objectStoreNames.indexOf(a))throw this.__actions.splice(this.__actions.indexOf(b),1),this.__checkFinished(this,void 0,b),{name:"NotFoundError"};for(var c=0;c<this.db.__getObjectStores().length;c++)if(this.db.__getObjectStores()[c].name===a){var f=this.db.__getObjectStores()[c];return f.transaction=this,this.__checkFinished(this,f,b),f}throw this.__actions.splice(this.__actions.indexOf(b),1),this.__checkFinished(this,void 0,b),{name:"NotFoundError"}}function i(){for(var a=0;a<this.db.__getObjectStores().length;a++){var b=e.getTimestamp();this.__actions.push(b),this.__checkFinished(this,this.db.__getObjectStores()[a],b)}}function j(a){a.__aborted||a.__commited||(a.__commited=!0,a.mode&&a.mode!==d.readonly&&a.db.__commit(),a.__active=!1,a.__complete())}function k(a,b,c){setTimeout(function(){b?b.__finished()?(a.__actions.splice(a.__actions.indexOf(c),1),0===a.__actions.length&&j(a)):a.__checkFinished(a,b,c):0===a.__actions.length&&j(a)},e.timeout)}function l(a,c){this.error=a,this.errorCode=c,e.isFunction(this.onerror)&&this.onerror(new b(this))}function m(){e.isFunction(this.oncomplete)&&this.oncomplete(new c(this))}function n(a){var b=new f;return b.__aborted=e.clone(this.__aborted,a),b.__actions=e.clone(this.__actions,a),b.__active=e.clone(this.__active,a),b.error=e.clone(this.error,a),b.mode=e.clone(this.mode,a),b.__objectStoreNames=e.clone(this.__objectStoreNames,a),b.db=e.clone(this.db,a),b.__id=e.clone(this.__id,a),b}return{abort:g,objectStore:h,__clone:n,__commit:i,__checkFinished:k,__complete:m,__error:l}}(),f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(7)],e=function(a){var b=function(b){a.call(this,"abort",{target:b,returnValue:!0})};return b.prototype=a.prototype,b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(7)],e=function(a){var b=function(b){a.call(this,"complete",{target:b,returnValue:!0})};return b.prototype=a.prototype,b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b){var c,d;c=[],d=function(){var a={readonly:"readonly",readwrite:"readwrite",versionchange:"versionchange"};return a}.apply(b,c),!(void 0!==d&&(a.exports=d))},function(a,b,c){var d,e;d=[c(4),c(1),c(13),c(15),c(2)],e=function(a,b,c,d,e){var f=function(a,b,c){0!==arguments.length&&(this.name=a,this.keyPath=b?b.keyPath:void 0,this.autoIncrement=b?b.autoIncrement:void 0,this.indexNames=[],this.transaction=c,this._indexes=[],this.__data={},this.__keys=[],this.__actions=[],this.__latestKey=0,this.__id=e.guid())};return f.prototype=function(){function g(c){var d,f=(new Date).getTime(),g=new a(this,this.transaction);if(this.__actions.push(f),c instanceof b||(c=b.only(c)),-1==this.transaction.db.objectStoreNames.indexOf(this.name)&&q(this,g,{name:"InvalidStateError"}),c.upper===c.lower)d=this.__data[c.lower];else for(var h=this.__keys.sort(e.cmp),i=0;i<h.length;i++)if(c.__inRange(h[i])){d=this.__data[h[i]];break}return setTimeout(function(a){g.__success(d),a.__actions.splice(a.__actions.indexOf(f),1)},e.timeout,this),g}function h(a,b){return s(this,a,b,!1)}function i(a,b){return s(this,a,b,!0)}function j(){}function k(){}function l(){}function m(){}function n(a,b,f){if(this.transaction.mode!==c.versionchange&&r(this,{name:"InvalidStateError"}),b&&e.isArray(b))for(var g=0;g<b.length;g++)""===b[g]&&r(this,{name:"InvalidStateError"});var h=new d(a,b,f,this);return this._indexes.push(h),this.indexNames.push(a),h}function o(a){this.transaction.mode!==c.versionchange&&r(this,{name:"InvalidStateError"});var b=this.indexNames.indexOf(a);-1===b?r(this,{name:"NotFoundError"}):this.indexNames.splice(b,1);for(var d=0;d<this._indexes.length;d++)this._indexes[d].name===a&&this._indexes.splice(d,1)}function p(a){for(var b=0;b<this._indexes.length;b++)if(this._indexes[b].name===a)return this._indexes[b];r(this,{name:"NotFoundError"})}function q(a,b,c){return setTimeout(function(){b.__error(c),a.transaction.__error(c),a.transaction.abort(c)},e.timeout),b}function r(a,b,c){throw c&&a.__actions.splice(a.__actions.indexOf(c),1),b}function s(b,d,f,g){var h=(new Date).getTime();b.__actions.push(h);var i=new a(this,this.transaction),j=f;if(-1==b.transaction.__objectStoreNames.indexOf(b.name)&&r(b,{name:"InvalidStateError"},h),b.transaction.mode==c.readonly&&r(b,{name:"ReadOnlyError"},h),(!b.keyPath&&!f&&!b.autoIncrement||b.keyPath&&(f||!d[b.keyPath]&&!b.autoIncrement||!e.isObject(d)))&&r(b,{name:"DataError"},h),b.autoIncrement){if(e.isNumber(j)&&j>b.__latestKey||(j=b.__latestKey+1,b.keyPath&&e.setPropertyValue(d,b.keyPath,j)),j>9007199254740992)return q(b,i,{name:"ConstraintError"});b.__latestKey=j}else b.keyPath&&(j=e.getPropertyValue(d,b.keyPath));if(e.isValidKey(j)||r(b,{name:"DataError"},h),g&&b.__data[j])return q(b,i,{name:"ConstraintError"});e.containsFunction(d)&&r(b,{name:"DataCloneError"},h);for(var k=0;k<b._indexes.length;k++){var l=b._indexes[k],m=e.getPropertyValue(d,l.keyPath);if(m)if(l.multiEntry&&e.isArray(m)){for(var n={},o=0;o<m.length;o++)if(e.isValidKey(m[o])&&!n[m[o]]&&(n[m[o]]=m[o],l.unique&&l.__data[m[o]]))return q(b,i,{name:"ConstraintError"})}else{if(!e.isValidKey(m))continue;if(l.unique&&l.__data[m])return q(b,i,{name:"ConstraintError"})}}for(var p=0;p<b._indexes.length;p++){var s=b._indexes[p];if(!g)for(var t=0;t<s.__data.length;t++)for(var u=0;u<s.__data[t].length;u++)s.__data[t][u].key==f&&s.__data[t].splice(u,1);var v=e.getPropertyValue(d,s.keyPath);if(v)if(s.multiEntry&&e.isArray(v))for(var w={},x=0;x<v.length;x++)e.isNumber(v[x])&&!w[v[x]]&&(w[v[x]]=v[x],s.__data[v[x]]||(s.__data[v[x]]=[]),s.__data[v[x]].push({key:f,data:d}));else{if(!e.isValidKey(v))continue;s.__data[v]||(s.__data[v]=[]),s.__data[v].push({key:f,data:d})}}return g&&!b.__data[j]&&b.__keys.push(j),b.__data[j]=d,setTimeout(function(){i.__success(j),b.__actions.splice(b.__actions.indexOf(h),1)},e.timeout),i}function t(){return 0===this.__actions.length}function u(a){var b=new f;return b.name=e.clone(this.name,a),b.keyPath=e.clone(this.keyPath,a),b.autoIncrement=e.clone(this.autoIncrement,a),b.indexNames=e.clone(this.indexNames,a),b._indexes=e.clone(this._indexes,a),b.__data=e.clone(this.__data,a),b.__keys=e.clone(this.__keys,a),b.__actions=[],b.__latestKey=e.clone(this.__latestKey,a),b.__id=e.clone(this.__id,a),b}return{add:i,get:g,put:h,"delete":j,clear:k,count:l,openCursor:m,createIndex:n,deleteIndex:o,index:p,__finished:t,__clone:u}}(),f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(3),c(1),c(2)],e=function(a,b,c){var d=function(a,b,d,e){0!==arguments.length&&(this.name=a,this.keyPath=b,this.multiEntry=d?d.multiEntry:void 0,this.unique=d?d.unique:void 0,this.objectStore=e,this.__data={},this.__id=c.guid())};return d.prototype=function(){function a(){}function b(){}function e(){}function f(){}function g(){}function h(a){var b=new d;return b.name=c.clone(this.name,a),b.keyPath=c.clone(this.keyPath,a),b.multiEntry=c.clone(this.multiEntry,a),b.unique=c.clone(this.unique,a),b.objectStore=c.clone(this.objectStore,a),b.__id=c.clone(this.__id,a),b.__data=c.clone(this.__data,a),b}return{count:g,get:a,getKey:f,openCursor:b,openKeyCursor:e,__clone:h}}(),d}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(7)],e=function(a){var b=function(b,c){a.call(this,b,c),this.newVersion=c.newVersion,this.oldVersion=c.oldVersion};return b.prototype=a.prototype,b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(18)],e=function(a){var b=function(){this.indexedDB=new a};return b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(9),c(19),c(20),c(21),c(13),c(2)],e=function(a,b,c,d,e,f){var g=function(){};return g.prototype=function(){function e(e,g){var h,i=new b;h=d.getDatabase(e),h||(g||(g=1),h=new c(e),d.setDatabase(e,h));var j=new a(h);return g&&j.version>g?setTimeout(function(){i.__error({name:"VersionError",message:"You are trying to open the database in a lower version ("+g+") than the current version of the database"},"VersionError")},f.timeout):g&&j.version<g?setTimeout(function(){h.upgrade(i,g,j)},f.timeout):setTimeout(function(){h.addConnection(j),i.__success(j)},f.timeout),i}function g(a){var c=new b(null,null);return d.removeDatabase(a),setTimeout(function(){c.__success()},f.timeout),c}function h(a,b){return f.cmp(a,b)}return{open:e,deleteDatabase:g,cmp:h}}(),g}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(4),c(5),c(16),c(2)],e=function(a,b,c,d){var e=function(){a.call(this,null,null),this.onblocked=null,this.onupgradeneeded=null};return e.prototype=a.prototype,e.prototype.__blocked=function(a,e){this.readyState=b.done,d.isFunction(this.onblocked)&&this.onblocked(new c("blocked",{target:this,newVersion:null,oldVersion:e}))},e.prototype.__upgradeneeded=function(a,e,f,g){this.result=a,this.transaction=e,this.readyState=b.done,d.isFunction(this.onupgradeneeded)&&(this.onupgradeneeded(new c("upgradeneeded",{target:this,newVersion:f,oldVersion:g,returnValue:!0})),e.__commit())},e.prototype.__clone=function(a){var b=new e;return b.error=d.clone(this.error,a),b.result=d.clone(this.result,a),b.source=d.clone(this.source,a),b.transaction=d.clone(this.transaction,a),b.readyState=d.clone(this.readyState,a),b.__id=d.clone(this.__id,a),b},e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(9),c(10),c(13),c(2)],e=function(a,b,c,d){var e=function(a){this.name=a,this.version=0,this.objectStoreNames=[],this.objectStores=[],this.connections=[]},f=function(a,b){this.objectStores=d.clone(a),this.objectStoreNames=d.clone(b)};return f.prototype=function(){function a(a){this.objectStores.push(a),this.objectStoreNames.push(a.name)}function b(a){for(var b=0;b<this.objectStores.length;b++)if(this.objectStores[b].name===a){this.objectStores.splice(b,1);break}this.objectStoreNames.splice(this.objectStoreNames.indexOf(a),1)}return{addObjectStore:a,removeObjectStore:b}}(),e.prototype=function(){function b(a){this.connections.push(a)}function e(a){for(var b=0;b<this.connections.length;b++)if(this.connections[b].__connectionId===a.__connectionId){this.connections.splice(b,1);break}}function g(a,b,c){for(var d=0;d<this.connections.length;d++)this.connections[d].__connectionId!==c.__connectionId&&this.connections[d].__versionchange(b);j(this,a,c.version,b,c)}function h(){return new f(this.objectStores,this.objectStoreNames)}function i(a){this.objectStores=d.clone(a.objectStores),this.objectStoreNames=d.clone(a.objectStoreNames)}function j(b,e,f,g,h){return b.connections.length>0&&b.connections[0].__connectionId!==h.__connectionId?(e.__blocked(null,h.version),void setTimeout(j,10,b,e,f,g,h)):(h.version=g,b.version=g,e.__upgradeneeded(h,h.transaction(b.objectStoreNames,c.versionchange),g,f),void setTimeout(function(){if(e.transaction.__aborted)e.__error({name:"AbortError",message:"The transaction was aborted."},8);else{var c=new a(b);b.addConnection(c),e.__success(c)}},d.timeout))}return{addConnection:b,removeConnection:e,snapshot:h,commitSnapshot:i,upgrade:g}}(),e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b){var c,d;c=[],d=function(){var a=function(){};return a.prototype=function(){function a(a){return d[a]}function b(a,b){d[a]=b}function c(a){d[a]=void 0,delete d[a]}var d={};return{getDatabase:a,setDatabase:b,removeDatabase:c}}(),new a}.apply(b,c),!(void 0!==d&&(a.exports=d))},function(a,b){var c,d;c=[],d=function(){return{}}.apply(b,c),!(void 0!==d&&(a.exports=d))}])});